<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>
<body>
<button class="btn save">Save Catalog</button>
<button class="btn get">get Catalog</button>

<button class="btn save-prod">Save Products</button>
<button class="btn get-prod">get Products</button>
<script>

    let data  = [
        {
            id: "men-clothing-jackets-and-coats",
            name: "jackets-and-coats",
            parentId: "men-clothing",
            categoryId: 21
        },
        {
            id: "men-clothing-jeans",
            name: "jeans",
            parentId: "men-clothing",
            categoryId: 22
        },
        {
            id: "men-clothing-sweaters",
            name: "sweaters",
            parentId: "men-clothing",
            categoryId: 23
        },
        {
            id: "men-accessories-belts",
            name: "belts",
            parentId: "men-accessories",
            categoryId: 31
        },
        {
            id: "men-accessories-bags",
            name: "bags",
            parentId: "men-accessories",
            categoryId: 32
        },
        {
            id: "men-accessories-scarves",
            name: "scarves",
            parentId: "men-accessories",
            categoryId: 33
        },
        {
            id: "women-clothing-dresses",
            name: "dresses",
            parentId: "women-clothing",
            categoryId: 41
        },
        {
            id: "women-clothing-jackets-and-coats",
            name: "jackets-and-coats",
            parentId: "women-clothing",
            categoryId: 42
        },
        {
            id: "women-clothing-jeans",
            name: "jeans",
            parentId: "women-clothing",
            categoryId: 43
        },
        {
            id: "women-accessories-bags",
            name: "bags",
            parentId: "women-accessories",
            categoryId: 51
        },
        {
            id: "women-accessories-scarves",
            name: "scarves",
            parentId: "women-accessories",
            categoryId: 52
        },
        {
            id: "women-accessories-belts",
            name: "belts",
            parentId: "women-accessories",
            categoryId: 53
        }
    ];

    let products = [
            {
                "enabled": true,
                "categoryId": 21,
                "imageUrls": [
                    "https://res.cloudinary.com/originalite/image/upload/v1609866183/hmgoepprod_jcglli.jpg",
                    "https://res.cloudinary.com/originalite/image/upload/v1609866137/hmgoepprod_ompv63.jpg"
                ],
                "quantity": 156,
                "name": "Twill Shirt Jacket",
                "currentPrice": 34.99,
                "previousPrice": 50.00,
                "categories": "men",
                "color": "Beige",
                "productUrl": "/men",
                "itemNo": "0941151001",
                "sizes": ["xs", "s", "m", "l", "xl", "xxl"],
                "oneMoreCustomParam": {
                    "description": "Shirt jacket in soft cotton twill. Collar, zipper at front, and chest pockets with flap and concealed snap fasteners. Long sleeves with plackets and button at cuffs. Unlined.",
                    "rate": 4.8,
                    "likes": 20
                }
            },
        {
            "enabled": true,
            "categoryId": 21,
            "imageUrls": [
                "https://res.cloudinary.com/originalite/image/upload/v1609866243/hmgoepprod_h0xnel.jpg",
                "https://res.cloudinary.com/originalite/image/upload/v1609866275/hmgoepprod_mttctj.jpg"
            ],
            "quantity": 156,
            "name": "Twill Shirt Jacket",
            "currentPrice": 34.99,
            "previousPrice": 50.00,
            "categories": "men",
            "color": "Dark navy blue",
            "productUrl": "/men",
            "itemNo": "0941151002",
            "sizes": ["xs", "s", "m", "l", "xl", "xxl"],
            "oneMoreCustomParam": {
                "description": "Shirt jacket in soft cotton twill. Collar, zipper at front, and chest pockets with flap and concealed snap fasteners. Long sleeves with plackets and button at cuffs. Unlined.",
                "rate": 4.8,
                "likes": 20
            }
        }
        ];


    let saveCatalog = document.querySelector('.save');
    let getCatalog = document.querySelector('.get');
    let saveProducts = document.querySelector('.save-prod');
    let getProducts = document.querySelector('.get-prod');

    let product = {
        enabled: true,
        categoryId: 21,
        imageUrls: [
            "https://res.cloudinary.com/originalite/image/upload/v1609866183/hmgoepprod_jcglli.jpg",
            "https://res.cloudinary.com/originalite/image/upload/v1609866137/hmgoepprod_ompv63.jpg"
        ],

        quantity: 156,
        name: "Twill Shirt Jacket",
        currentPrice: 34.99,
        previousPrice: 50.00,
       categories: "men",
        color: "Beige",
        productUrl: "/men",
        itemNo: "0941151001",
        sizes: ["xs", "s", "m", "l", "xl", "xxl"],
        oneMoreCustomParam: {
        description: "Shirt jacket in soft cotton twill. Collar, zipper at front, and chest pockets with flap and concealed snap fasteners. Long sleeves with plackets and button at cuffs. Unlined.",
            rate: 4.8,
        likes: 20
         }
         };

    console.log('worker');

    saveCatalog.addEventListener('click', () => {
        console.log('click_worker');

        data.forEach(el =>
        fetch('http://localhost:5000/api/catalog', {
            method: 'POST',
            body: JSON.stringify(el),
            headers: {
                'Content-Type': 'application/json',
            },
        }).catch((er) => {
            console.error(er);
        }));
    });
    getCatalog.addEventListener('click', () => {
        console.log('click_worker');
        fetch('http://localhost:5000/api/catalog')
            .then((response) => {
                console.log(response.json())
                return response.json();
            })
            .then((res) => {
                console.log(res)
                console.log('res', res);
            });
    });

    saveProducts.addEventListener('click', () => {
        console.log('click_worker1');

        products.forEach(el =>
            fetch('http://localhost:5000/api/products', {
                method: 'POST',
                body: JSON.stringify(el),
                headers: {
                    'Content-Type': 'application/json',
                },
            }).catch((er) => {
                console.error(er);
            }));
    });
    getProducts.addEventListener('click', () => {
        console.log('click_worker4');
        fetch('http://localhost:5000/api/products')
            .then((response) => {
                console.log(response.json())
                return response.json();
            })
            .then((res) => {
                console.log(res)
                console.log('res', res);
            });
    });
</script>
</body>
</html>
